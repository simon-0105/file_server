# Flask 文件服务器

这是一个使用 Python 和 Flask 框架构建的简单文件服务器应用。它提供基本的文件上传、下载、列表展示和文本保存功能。

## 主要功能

- **文件上传**: 用户可以通过网页界面上传文件，支持中文文件名。
- **文件列表**: 在 `/files` 页面可以查看所有已上传的文件和已保存的文本。
- **文件下载/预览**: 可以直接从文件列表点击链接预览或下载文件。
- **文本保存**: 可以在主页的文本框中输入内容，并将其追加保存在服务器的 `output.txt` 文件中。
- **签名功能**: `/sign` 页面提供了一个与加密钱包（如 MetaMask）交互的界面框架。

## 项目结构

```
/
├── app.py              # Flask 应用主文件
├── templates/          # HTML 模板文件夹
│   ├── index.html      # 主页，包含上传和文本保存表单
│   ├── files.html      # 文件列表展示页
│   └── sign.html       # 签名页
├── uploaded_files/     # 存放用户上传的文件
├── saved_texts/        # 存放保存的文本文件 (例如 output.txt)
└── downloads/          # 存放可供下载的文件
```

## 安装与运行

### 1. 环境准备

确保你的系统已经安装了 Python (建议 3.6 或更高版本)。

### 2. 克隆或下载项目

将本项目文件放置在你的本地文件系统。

### 3. 安装依赖

本项目依赖于 `Flask` 和 `Flask-WTF`。通过 pip 安装它们：

```bash
pip install Flask Flask-WTF
```

### 4. 运行应用

在项目根目录下，运行 `app.py` 文件：

```bash
python app.py
```

### 5. 访问应用

应用启动后，你可以在浏览器中通过以下地址访问：

- **本地访问**: `http://127.0.0.1:5000`
- **局域网访问**: `http://<你的局域网IP地址>:5000`

## 使用说明

- **主页 (`/`)**:
  - 你会看到一个文本输入框和一个文件选择按钮。
  - 在文本框中输入内容并点击“保存文本”会将其追加到 `saved_texts/output.txt`。
  - 点击“选择文件”并提交表单以上传文件到 `uploaded_files/` 目录。
- **文件列表页 (`/files`)**:
  - 访问此页面可以查看到 `saved_texts` 和 `uploaded_files` 目录下的所有文件。
  - 点击文件名可以预览（浏览器支持的格式）或下载该文件。
- **签名页 (`/sign`)**:
  - 此页面用于演示与 Web3 钱包的交互。
